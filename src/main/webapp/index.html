<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>MapyTrip</title>

    <!-- Bootstrap Core CSS -->
    <link href="libs/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <link href="libs/jobtime.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="libs/bootstrap/css/font-awesome.min.css" rel="stylesheet" type="text/css">

</head>

<body id="page-top" class="index">
	<div data-bind="with: appViewModel">
	
		<div class="col-sm-12 tenpxmarg" >
		                <select class="form-control " data-bind='options: actions, value: selectedAction, optionsText: "name"'> </select>
	    </div>
	    
	    <!-- ko if: selectedAction().id == 'addTaskType'   -->
	    	<div class="col-sm-12 tenpxmarg" >
	    	
	    	
		      	<input class="form-control" placeholder="Type de tache..." data-bind='value: taskTypeViewModel().newTaskType'/>
		      	<div class="tenpxmarg">
	    		<button  class="btn btn-primary form-control"  type="button" data-bind="click: taskTypeViewModel().addNewTaskType">Ajouter</button>
	    		</div>
	    		<div class="tenpxmarg">Type de taches</div>
	    		
	    		<div data-bind='foreach: taskTypeViewModel().taskType'> 
                	<span data-bind="text: type" ></span>
                	<p>
                </div>
	    	</div>
	    <!-- /ko -->
	    
	    <!-- ko if: selectedAction().id == 'addProject'   -->
	    	<div class="col-sm-12 tenpxmarg" >
	    		
	    		<div class="tenpxmarg" >
		                <select class="form-control " data-bind='options: jobViewModel().jobs, value: jobViewModel().selectedJob, optionsText: "name", optionsCaption: "Select..."'> </select>
		     	</div>
		     	
		     	<!-- ko if: typeof appViewModel.jobViewModel().selectedJob() != 'undefined' -->
		     	
			     	<div class="tenpxmarg">
		                <select class="form-control " data-bind='options: missionViewModel().missions, value: missionViewModel().selectedMission, optionsText: "name", optionsCaption: "Select..."'> </select>
			      	 	
			      	</div>
		      	<!-- /ko -->
	    		<!-- ko if: typeof appViewModel.jobViewModel().selectedJob() != 'undefined' &&  typeof appViewModel.missionViewModel().selectedMission() != 'undefined'  -->
	    		<div class=" tenpxmarg" >
		      		<input class="form-control " placeholder="Entrer un nom..." data-bind='value: projectViewModel().newProjectName'/>
		      	</div>
	    		<button class="btn btn-primary form-control tenpxmarg"  type="button" data-bind="click: projectViewModel().addNewProject">Ajouter</button>
	    		<p>
	    		
	    		
	    		<table class="table table-striped table-bordered">
	    			<thead>
				        <tr>
				        	<th class="col-xs-10">Liste des projets</th>
				        </tr>
				        
				    </thead>
	                <tbody data-bind='foreach: missionViewModel().selectedMission().projects'> 
	                	 
	                	
	                	<tr>
				            <td class="col-xs-10" data-bind="text: name"></td>
				            <td class="col-xs-1">
				            	<input type="checkbox" disabled data-bind="checked: isDefault" />
			            	</td>
				            <td class="col-xs-1">
				        		<button class="btn btn-default" type="button" data-bind="click: $parent.projectViewModel().setDefault, disable :isDefault">Défaut</button>
			      			</td>
				        </tr>
	                </tbody>
                </table>
                <!-- /ko -->
		     </div>
	    
	    <!-- /ko -->
	    
	    <!-- ko if: selectedAction().id == 'addMission' && typeof appViewModel.jobViewModel().selectedJob() != 'undefined' -->
	    	<div class="col-sm-12 tenpxmarg" >
	    		
	    		
		        <select class="form-control tenpxmarg" data-bind='options: jobViewModel().jobs, value: jobViewModel().selectedJob, optionsText: "name", optionsCaption: "Select..."'> </select>
		     	
	      		<input class="form-control tenpxmarg" placeholder="Mission..." data-bind='value: missionViewModel().newMissionName'/>
		      	<button class="btn btn-primary form-control tenpxmarg" type="button" data-bind="click: missionViewModel().addNewMission">Ajouter</button>
	    		<p>
	    		                
                <table class="table table-striped table-bordered">
	    			<thead>
				        <tr>
				        	<th class="col-xs-10">Liste des missions</th>
				        </tr>
				        
				    </thead>
	                <tbody data-bind='foreach: jobViewModel().selectedJob().missions'> 
	                	 
	                	
	                	<tr>
				            <td class="col-xs-10" data-bind="text: name"></td>
				            <td class="col-xs-1">
				            	<input type="checkbox" disabled data-bind="checked: isDefault" />
			            	</td>
				            <td class="col-xs-1">
				        		<button class="btn btn-default" type="button" data-bind="click: $parent.missionViewModel().setDefault, disable :isDefault">Défaut</button>
			      			</td>
				        </tr>
	                </tbody>
                </table>
                
		     </div>
	    
	    <!-- /ko -->
	    
	    <!-- ko if: selectedAction().id == 'addJob' -->
	    	<div class="col-sm-12 tenpxmarg" >
	    		
    			<input class="form-control" placeholder="Job..." data-bind='value: jobViewModel().newJobName'/>
		      	
	    		<button class="tenpxmarg btn btn-primary form-control"  type="button" data-bind="click: jobViewModel().addNewJob">Ajouter</button>
	    		<p>
	    		
	    		<table class="table table-striped table-bordered">
	    			<thead>
				        <tr>
				        	<th class="col-xs-10">Liste des jobs</th>
				        </tr>
				        
				    </thead>
	                <tbody data-bind='foreach: jobViewModel().jobs'> 
	                	 
	                	
	                	<tr>
				            <td class="col-xs-10" data-bind="text: name"></td>
				            <td class="col-xs-1">
				            	<input type="checkbox" disabled data-bind="checked: isDefault" />
			            	</td>
				            <td class="col-xs-1">
				        		<button class="btn btn-default" type="button" data-bind="click: $parent.jobViewModel().setDefault, disable :isDefault">Défaut</button>
			      			</td>
				        </tr>
	                </tbody>
                </table>
                
                
		     </div>
	    
	    <!-- /ko -->
	    
	    
		<!-- ko if: selectedAction().id == 'addJobDone' -->
			 <div class="col-sm-12 tenpxmarg" >
		                <select class="form-control " data-bind='options: jobViewModel().jobs, value: jobViewModel().selectedJob, optionsText: "name", optionsCaption: "Select..."'> </select>
		     </div>
		     <div class="col-sm-12 tenpxmarg" >
		                <select class="form-control " data-bind='options: missionViewModel().missions, value: missionViewModel().selectedMission, optionsText: "name", optionsCaption: "Select..."'> </select>
		      </div>
		     <div class="col-sm-12 tenpxmarg" >
		                <select class="form-control " data-bind='options: projectViewModel().projects, value: projectViewModel().selectedProject, optionsText: "name", optionsCaption: "Select..."'> </select>
		      </div>
		      <div class="col-sm-12 tenpxmarg" >
		                <select class="form-control " data-bind='options: taskTypeViewModel().taskType, value: taskTypeViewModel().selectedTaskType, optionsText: "type", optionsCaption: "Select..."'> </select>
		      </div>
		      
		      <div class="col-sm-12 tenpxmarg" >
		      	<input class="form-control" type="date" data-bind='date: jobDoneViewModel().currentJobDone.date'/>
		      </div>
		      
		      <div class="col-sm-12 tenpxmarg" >
		      	<input class="form-control" placeholder="Temps..." type="number" data-bind='value: jobDoneViewModel().currentJobDone.timeSpent'/>
		      </div>
		      
		     <div class="col-sm-12 tenpxmarg" > 
		      	<textarea class="form-control" placeholder="Note..." rows="5" data-bind='textInput: jobDoneViewModel().currentJobDone.note'></textarea>
		      </div>
		     
		    <div class="col-sm-12 tenpxmarg" > 
		      <button  class="btn btn-primary form-control"  type="button" data-bind="click: jobDoneViewModel().sendJobTime">OK</button>
		     </div>
		     <div class="col-sm-12 tenpxmarg" > 
			     <table class="table table-striped table-bordered">
		    			<thead>
					        <tr>
					        	<th class="col-xs-5" data-bind='text: jobDoneViewModel().currentDisplayedDate'></th>
					        	<th class="col-xs-5" >Total</th>
					        	<th class="col-xs-2" data-bind='text: jobDoneViewModel().currentDisplayedTotalTime'></th>
					        </tr>
					        
					    </thead>
		                <tbody data-bind='foreach: jobDoneViewModel().dateJobTime'> 
		                	 <!-- ko foreach: jobdones -->
		                	 <tr>
					            <td class="col-xs-5" data-bind="text: $parent.name"></td>
					            
					            
					            <td class="col-xs-5" data-bind="text: taskType.type"></td>
					            <td class="col-xs-2" data-bind="text: timeSpent"></td>
					            
					        </tr>
					        <!-- /ko -->
		                </tbody>
	                </table>
                </div>
	     <!-- /ko --> 
    </div>
    <!-- jQuery -->
    <script src="libs/jquery-2.1.4.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="libs/bootstrap/js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="libs/moment.min.js" charset="utf-8"></script>
    <script src="libs/knockout-3.4.0.js" charset="utf-8"></script>
    <script src="libs/knockout.validation.min.js" charset="utf-8"></script>
    <script src="libs/knockout-date-bindings.js" charset="utf-8"></script>
    

	<script src="libs/job.js"></script>
	<script src="libs/jobdone.js"></script>
	<script src="libs/mission.js"></script>
	<script src="libs/project.js"></script>
	<script src="libs/taskType.js"></script>
	<script src="libs/jobtime.js"></script>
</body>

</html>
